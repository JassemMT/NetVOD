/* resources/css/app.bundle.css
   Single CSS bundle for NetVOD
   - Includes: variables, global, catalogue, serie, episode, auth
   - Integrates recent fixes:
     * harmonisation login/register (.auth-container / .auth-card)
     * hero: disable zoom, add spacing, left padding for hero-content
     * prominent favorites button styling
     * episode cards: overlay slide-in from right (clean rules, no !important)
     * series page: force single-column episodes list when inside .episodes-section
   Replace the file in your repo with this content (I won't push any commit).
   Recommended: minify for production and serve with gzip/brotli.
*/

/* =========================
   VARIABLES
   ========================= */
:root{
  --bg-1:#ffffff;
  --bg-2:#f7f9fb;
  --bg-3:#f0f3f8;

  --glass-band: rgba(255,255,255,0.26);
  --glass-band-border: rgba(255,255,255,0.36);
  --glass-btn: rgba(255,255,255,0.28);
  --glass-btn-border: rgba(255,255,255,0.42);

  --text: rgba(6,7,10,0.86);
  --text-secondary: rgba(6,7,10,0.7);
  --text-muted: rgba(6,7,10,0.45);

  --border-subtle: rgba(0,0,0,0.04);
  --shadow-soft: 0 16px 48px rgba(6,7,10,0.06);
  --shadow-medium: 0 20px 60px rgba(6,7,10,0.12);
  --shadow-focus: 2px solid rgba(0,0,0,0.06);

  --font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  --size-xs:.75rem;
  --size-sm:.875rem;
  --size-base:1rem;
  --size-lg:1.125rem;
  --size-xl:1.25rem;
  --size-2xl:1.5rem;

  --spacing-xs:.5rem;
  --spacing-sm:.75rem;
  --spacing-base:1rem;
  --spacing-md:1.25rem;
  --spacing-lg:1.5rem;
  --spacing-xl:2rem;
  --spacing-2xl:2.5rem;
  --spacing-3xl:3rem;

  --radius-sm:8px;
  --radius-base:12px;
  --radius-md:14px;
  --radius-lg:16px;

  --duration-fast:150ms;
  --duration-base:200ms;
  --duration-slow:300ms;
  --easing-out:cubic-bezier(0,0,0.2,1);
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  :root{ --duration-fast:0ms; --duration-base:0ms; --duration-slow:0ms; }
}

/* =========================
   RESET & BASE
   ========================= */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;width:100%}
body{
  font-family:var(--font-family);
  font-size:var(--size-base);
  color:var(--text);
  background:linear-gradient(180deg,var(--bg-1),var(--bg-2));
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  -webkit-text-size-adjust:100%;
  padding:36px;
}

/* Typography */
h1,h2,h3,h4,h5,h6{font-weight:700;line-height:1.2;color:var(--text)}
h1{font-size:clamp(2rem,5vw,3rem);margin-bottom:var(--spacing-xl)}
h2{font-size:clamp(1.25rem,3vw,1.6rem);margin-bottom:var(--spacing-lg)}
h3{font-size:var(--size-lg);margin-bottom:var(--spacing-md)}
p{margin-bottom:var(--spacing-base);line-height:1.45}
a{color:inherit;text-decoration:none}
a:focus{outline:var(--shadow-focus);outline-offset:3px}

/* =========================
   BUTTONS
   ========================= */
button,[role="button"],.btn{
  appearance:none;-webkit-appearance:none;
  border:1px solid var(--glass-btn-border);
  background:var(--glass-btn);
  padding:9px 14px;
  border-radius:var(--radius-base);
  color:var(--text);
  font-weight:600;
  font-size:var(--size-sm);
  display:inline-flex;
  align-items:center;
  gap:var(--spacing-sm);
  cursor:pointer;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  transition:box-shadow var(--duration-base) var(--easing-out), transform var(--duration-base) var(--easing-out);
}
button:hover,.btn:hover{box-shadow:0 12px 32px rgba(6,7,10,0.08);background:rgba(255,255,255,0.34)}
button:focus{outline:var(--shadow-focus);outline-offset:3px}
.btn-primary{padding:12px 22px;border-radius:var(--radius-base)}
.btn-small{padding:8px 12px;font-size:var(--size-xs)}

/* Prominent secondary (favorites) used in hero */
.btn-secondary{
  background: linear-gradient(135deg, rgba(99,102,241,0.10), rgba(99,102,241,0.04));
  border:1.5px solid rgba(99,102,241,0.25);
  color: #0b1220;
  font-weight:700;
  padding:14px 26px;
  font-size:1rem;
  border-radius: calc(var(--radius-base) + 2px);
  box-shadow: 0 8px 28px rgba(99,102,241,0.06);
}
.btn-secondary:hover{transform:translateY(-3px);box-shadow:0 18px 40px rgba(99,102,241,0.12)}

/* =========================
   LAYOUT / HEADER
   ========================= */
.app-header{
  padding:var(--spacing-lg) var(--spacing-xl);
  background:linear-gradient(180deg, rgba(255,255,255,0.5), rgba(255,255,255,0.3));
  border-bottom:1px solid var(--border-subtle);
  backdrop-filter:blur(10px);
  box-shadow:var(--shadow-soft);
  z-index:100;
}
.header-content{max-width:1200px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;gap:var(--spacing-xl)}
.logo{font-weight:700;font-size:var(--size-lg);padding:var(--spacing-sm) var(--spacing-md);border-radius:8px;background:linear-gradient(180deg,#fff,#fbfdff)}
.nav{display:flex;gap:var(--spacing-lg)}
.container{max-width:1200px;margin:0 auto;padding:0 var(--spacing-xl)}
main{min-height:calc(100vh - 200px);padding:var(--spacing-4xl) var(--spacing-xl)}

/* =========================
   GRID / CARDS (catalogue)
   ========================= */
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:var(--spacing-2xl)}
@media (max-width:900px){.grid{grid-template-columns:repeat(2,1fr);gap:var(--spacing-xl)}}
@media (max-width:600px){.grid{grid-template-columns:1fr;gap:var(--spacing-lg)}}

.card{
  position:relative;
  height:340px;
  border-radius:var(--radius-md);
  overflow:hidden;
  cursor:pointer;
  background:linear-gradient(135deg, rgba(255,255,255,0.62), rgba(250,250,252,0.62));
  border:1px solid var(--border-subtle);
  box-shadow:var(--shadow-soft);
  transform-style:preserve-3d;
  will-change:transform;
  transition:box-shadow var(--duration-slow) var(--easing-out);
}
.card:hover{box-shadow:var(--shadow-medium)}
.card:focus{outline:2px solid rgba(0,0,0,0.08);outline-offset:4px}

/* card image fallback */
.card-image{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;object-position:center;z-index:0;transform:translate3d(0,0,0) scale(1.12);transition:transform 180ms linear}

/* subtle overlay */
.card-overlay{position:absolute;inset:0;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.04));pointer-events:none;z-index:2}

/* card band (fallback style for simple cards) */
.card-band{
  position:absolute;
  left:12px;right:12px;bottom:12px;padding:12px 14px;border-radius:var(--radius-base);
  display:flex;align-items:center;justify-content:space-between;gap:var(--spacing-base);z-index:4;
  backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);
  background:var(--glass-band);border:1px solid var(--glass-band-border);
  transition:transform 180ms linear;
}

/* =========================
   HERO (serie) fixes
   ========================= */
.hero-serie{
  display:grid;
  grid-template-columns: minmax(280px, 1fr) minmax(360px, 1fr);
  gap: calc(var(--spacing-4xl) + 0.5rem);
  align-items:center;
  margin-bottom:var(--spacing-4xl);
  padding:calc(var(--spacing-3xl) + 0.5rem);
  border-radius:var(--radius-lg);
  background:linear-gradient(135deg,rgba(255,255,255,0.4),rgba(255,255,255,0.2));
  border:1px solid var(--border-subtle);
  box-shadow:var(--shadow-soft);
}
@media (max-width:1024px){ .hero-serie{ grid-template-columns:1fr; gap:var(--spacing-2xl); padding:var(--spacing-2xl) } }

/* hero image: stable (disable zoom) and maintain aspect ratio */
.hero-image{position:relative;overflow:hidden;border-radius:var(--radius-lg);aspect-ratio:16/9;box-shadow:0 24px 64px rgba(6,7,10,0.16)}
.hero-image img{width:100%;height:100%;object-fit:cover;object-position:center;display:block;transition:none;transform:none}

/* hero content: add breathing room from the image */
.hero-content{
  display:flex;
  flex-direction:column;
  gap:var(--spacing-2xl);
  padding-left: var(--spacing-lg);
}
.hero-meta{margin-bottom:var(--spacing-base)}
.hero-title{font-size:clamp(1.6rem,4vw,2.4rem);margin:0}
.hero-year{font-size:var(--size-lg);color:var(--text-muted);padding:var(--spacing-sm) var(--spacing-base);border-radius:8px}

/* hero actions and prominent favorites button */
.hero-actions{display:flex;gap:var(--spacing-lg);align-items:center}
.hero-actions form{margin:0}
.hero-actions .btn-secondary{
  background: linear-gradient(135deg, rgba(99,102,241,0.10), rgba(99,102,241,0.06));
  border:1.5px solid rgba(99,102,241,0.25);
  color: #0b1220;
  font-weight:700;
  padding:14px 26px;
  font-size:1rem;
}

/* =========================
   EPISODE grid & overlay slide-in (clean, no !important)
   ========================= */

/* episodes grid default */
.episodes-grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:var(--spacing-2xl) }

/* --- SERIES PAGE: force single-column listing for episodes ---
   Use a more specific selector so it overrides the generic grid-template
   without using !important. It targets episodes inside the series detail
   section (.episodes-section). If you add body[data-page="serie"] we also target that.
*/
.episodes-section .episodes-grid,
body[data-page="serie"] .episodes-grid {
  grid-template-columns: 1fr; /* single column */
  gap: var(--spacing-md);
}

/* base episode card */
.episode-card{
  position:relative;
  height:320px;
  border-radius:var(--radius-md);
  overflow:hidden;
  background:#f9fbfd;
  border:1px solid var(--border-subtle);
  box-shadow:var(--shadow-soft);
}

/* link fills the card */
.episode-card > .episode-link{
  display:block;
  position:relative;
  width:100%;
  height:100%;
  color:inherit;
  text-decoration:none;
}

/* image layer */
.episode-image-wrapper{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  overflow:hidden;
  z-index:1;
}
.episode-image{
  width:100%;
  height:100%;
  object-fit:cover;
  object-position:center;
  display:block;
  transform:none;
  transition:transform 180ms linear, filter 280ms var(--easing-out);
}

/* overlay band: absolute to the right and translated off-screen initially */
.episode-band{
  position:absolute;
  top:0;
  right:0;
  height:100%;
  width:40%;
  min-width:180px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  gap:var(--spacing-base);
  padding:20px;
  background: linear-gradient(90deg, rgba(0,0,0,0.45), rgba(255,255,255,0.02));
  color: #fff;
  transform: translateX(110%);
  transition: transform 320ms var(--easing-out), box-shadow 320ms var(--easing-out), opacity 220ms var(--easing-out);
  opacity:0;
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  border-left: 1px solid rgba(255,255,255,0.04);
  z-index:6;
  pointer-events:none;
}

/* reveal overlay on hover or keyboard focus within card/link */
.episode-card:hover .episode-band,
.episode-card:focus-within .episode-band,
.episode-card > .episode-link:hover .episode-band,
.episode-card > .episode-link:focus-within .episode-band{
  transform: translateX(0);
  opacity:1;
  pointer-events:auto;
  box-shadow:0 18px 40px rgba(0,0,0,0.18);
}

/* overlay internal styling */
.episode-band .episode-meta{
  color:#fff;
  display:flex;
  flex-direction:column;
  gap:6px;
  align-items:flex-start;
  min-width:0;
}
.episode-band .episode-title{color:#fff;font-weight:700;margin:0}
.episode-band .episode-subtitle{color:rgba(255,255,255,0.9);margin:0}

/* button in overlay */
.episode-band .btn-small{
  align-self:center;
  min-width:110px;
  padding:10px 16px;
  border-radius:10px;
  background: linear-gradient(135deg, rgba(99,102,241,0.12), rgba(139,92,246,0.06));
  border: 1px solid rgba(255,255,255,0.14);
  color:#fff;
  font-weight:700;
  transition:transform 180ms var(--easing-out), box-shadow 180ms var(--easing-out);
}
.episode-band .btn-small:hover,
.episode-band .btn-small:focus{
  transform: scale(1.06);
  box-shadow:0 12px 32px rgba(0,0,0,0.28);
}

/* darken underlying image when overlay visible for contrast */
.episode-card:hover .episode-image,
.episode-card:focus-within .episode-image{
  filter: brightness(0.66) saturate(0.95);
}

/* Accessible fallback for touch (no hover) */
@media (hover: none) {
  .episode-card:hover .episode-band { transform: translateX(110%); opacity:0; pointer-events:none; }
  .episode-card:focus-within .episode-band { transform: translateX(0); opacity:1; pointer-events:auto; }
}

/* mobile: slide overlay from bottom */
@media (max-width:900px){
  .episode-card{ height:300px }
  .episode-band{
    width:100%;
    height:auto;
    bottom:0;
    top:auto;
    left:0;
    transform: translateY(110%);
    transition: transform 300ms var(--easing-out), opacity 220ms var(--easing-out);
  }
  .episode-card:hover .episode-band,
  .episode-card:focus-within .episode-band{
    transform: translateY(0);
    opacity:1;
  }
  .episode-band .btn-small{ align-self:flex-end }
  .hero-serie{ grid-template-columns:1fr; gap:var(--spacing-2xl); padding:var(--spacing-2xl) }
  .hero-content{ padding-left:0 }
}

/* small polish: focus & accessibility */
.episode-card:focus-within,
.episode-card:focus{ outline:2px solid rgba(99,102,241,0.08); outline-offset:2px }

/* make sure only specific children are positioned relative (do not set episode-band relative) */
.episode-card .episode-image,
.episode-card .episode-image-wrapper,
.episode-card .episode-link{
  position: relative;
  z-index:1;
}

/* =========================
   AUTH (login / register) harmonisation
   ========================= */
.auth-page{display:flex;align-items:center;justify-content:center;padding:var(--spacing-4xl) var(--spacing-xl);min-height:calc(100vh - 220px);box-sizing:border-box}

.auth-container{
  width:100%;
  max-width:480px;
  border-radius:var(--radius-lg);
  padding:var(--spacing-3xl);
  background:linear-gradient(180deg,rgba(255,255,255,0.42),rgba(255,255,255,0.22));
  border:1px solid var(--border-subtle);
  box-shadow:var(--shadow-soft);
  backdrop-filter:blur(12px);
  -webkit-backdrop-filter:blur(12px);
}

/* neutralize inner card visuals while preserving semantics */
.auth-card{
  background: transparent;
  border: none;
  box-shadow: none;
  padding: 0;
  margin: 0;
  width:100%;
  border-radius:var(--radius-lg);
}

/* auth form layout */
.auth-header{text-align:center;margin-bottom:var(--spacing-2xl)}
.auth-header h1{margin:0 0 var(--spacing-base) 0;font-size:var(--size-2xl);font-weight:600;color:var(--text)}
.auth-sub{color:var(--text-muted);font-size:var(--size-sm);margin:0}
.auth-form{display:grid;gap:var(--spacing-md);margin-top:var(--spacing-lg)}
.auth-form label{font-size:var(--size-sm);color:var(--text-secondary);display:block;margin-bottom:6px}
.auth-form input[type="email"],.auth-form input[type="password"],.auth-form input[type="text"]{width:100%;padding:12px 14px;border-radius:var(--radius-base);border:1px solid var(--border-subtle);background:rgba(255,255,255,0.6);font-size:var(--size-base);color:var(--text)}
.auth-form input:focus{box-shadow:0 6px 20px rgba(0,0,0,0.06);border-color:rgba(0,0,0,0.08)}
.input-with-toggle{position:relative;display:flex;align-items:center}
.input-with-toggle .toggle-pw{position:absolute;right:8px;top:50%;transform:translateY(-50%);background:transparent;border:none;color:var(--text-secondary);padding:6px;cursor:pointer;font-size:var(--size-sm)}
.auth-actions{display:flex;gap:var(--spacing-base);margin-top:var(--spacing-base);justify-content:space-between;align-items:center}
.link-muted{color:var(--text-secondary);font-size:var(--size-sm);text-decoration:underline;background:transparent;border:none;padding:0;cursor:pointer}
.form-error.is-visible{display:block}
.form-error{display:none;color:#b00020;font-size:var(--size-sm);margin-top:6px}

/* =========================
   RESPONSIVE TWEAKS
   ========================= */
@media (max-width:900px){
  .header-content{flex-direction:column;align-items:flex-start;gap:var(--spacing-base)}
  .nav{gap:var(--spacing-base)}
  main{padding:var(--spacing-2xl) var(--spacing-lg)}
}
@media (max-width:600px){
  .app-header{padding:var(--spacing-md) var(--spacing-lg)}
  .logo{font-size:var(--size-sm)}
  main{padding:var(--spacing-xl) var(--spacing-md)}
}

/* reduced motion override */
@media (prefers-reduced-motion:reduce){
  *{transition:none!important;animation:none!important}
}