/* ==========================================================================
   resources/css/app.bundle.css
   Refined: fix video "flattened" player and center rating form.
   - Minimal edits only: add an aspect-ratio + min-height to the video player
     so it reserves space before metadata loads.
   - Ensure the rating form inside .episode-note is visually centered by using
     a flex container and constraining the form width.
   - All other styles preserved to avoid visual regressions.
   - Inlined notification styles (previously in notification.css) appended at the end.
   ========================================================================== */

/* =========================
   VARIABLES
   ========================= */
:root{
  --bg-1:#ffffff;
  --bg-2:#e7f2ff;
  --bg-3:#f0f3f8;
  --accent-primary:#6366f1;

  --glass-band: rgba(255,255,255,0.26);
  --glass-band-border: rgba(255,255,255,0.36);
  --glass-btn: rgba(255,255,255,0.28);
  --glass-btn-border: rgba(255,255,255,0.42);

  --text: rgba(6,7,10,0.86);
  --text-secondary: rgba(6,7,10,0.7);
  --text-muted: rgba(6,7,10,0.45);

  --border-subtle: rgba(0,0,0,0.04);
  --shadow-soft: 0 16px 48px rgba(6,7,10,0.06);
  --shadow-medium: 0 20px 60px rgba(6,7,10,0.12);
  --shadow-focus: 2px solid rgba(0,0,0,0.06);

  --font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  --size-xs:.75rem;
  --size-sm:.875rem;
  --size-base:1rem;
  --size-lg:1.125rem;
  --size-xl:1.25rem;
  --size-2xl:1.5rem;

  --spacing-xs:.5rem;
  --spacing-sm:.75rem;
  --spacing-base:1rem;
  --spacing-md:1.25rem;
  --spacing-lg:1.5rem;
  --spacing-xl:2rem;
  --spacing-2xl:2.5rem;
  --spacing-3xl:3rem;
  --spacing-4xl:4rem;

  --radius-sm:8px;
  --radius-base:12px;
  --radius-md:14px;
  --radius-lg:16px;

  --duration-fast:150ms;
  --duration-base:200ms;
  --duration-slow:300ms;
  --easing-out:cubic-bezier(0,0,0.2,1);

  --header-height: 64px;           /* hauteur du header desktop */
  --header-compact-height: 88px;   /* hauteur quand le header wrappe (mobile) */
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  :root{ --duration-fast:0ms; --duration-base:0ms; --duration-slow:0ms; }
}

/* =========================
   RESET & BASE
   ========================= */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;width:100%}
body{
  font-family:var(--font-family);
  font-size:var(--size-base);
  color:var(--text);
  background:linear-gradient(180deg,var(--bg-1),var(--bg-2));
  background-attachment: fixed;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  -webkit-text-size-adjust:100%;
  padding:36px;
  padding-top: calc(var(--header-height) + var(--spacing-sm));
}

/* Typography */
h1,h2,h3,h4,h5,h6{font-weight:700;line-height:1.2;color:var(--text)}
h1{font-size:clamp(2rem,5vw,3rem);margin-bottom:var(--spacing-xl)}
h2{font-size:clamp(1.25rem,3vw,1.6rem);margin-bottom:var(--spacing-lg)}
h3{font-size:var(--size-lg);margin-bottom:var(--spacing-md)}
p{margin-bottom:var(--spacing-base);line-height:1.45}
a{color:inherit;text-decoration:none}
a:focus{outline:var(--shadow-focus);outline-offset:3px}

/* =========================
   BUTTONS
   ========================= */
button,[role="button"],.btn{
  appearance:none;-webkit-appearance:none;
  border:1px solid var(--glass-btn-border);
  background:var(--glass-btn);
  padding:9px 14px;
  border-radius:var(--radius-base);
  color:var(--text);
  font-weight:600;
  font-size:var(--size-sm);
  display:inline-flex;
  align-items:center;
  gap:var(--spacing-sm);
  cursor:pointer;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  transition:box-shadow var(--duration-base) var(--easing-out), transform var(--duration-base) var(--easing-out);
}
button:hover,.btn:hover{box-shadow:0 12px 32px rgba(6,7,10,0.08);background:rgba(255,255,255,0.34)}
button:focus{outline:var(--shadow-focus);outline-offset:3px}
.btn-primary{padding:12px 22px;border-radius:var(--radius-base)}
.btn-small{padding:8px 12px;font-size:var(--size-xs)}

/* Prominent secondary (favorites) used in hero */
.btn-secondary{
  background: linear-gradient(135deg, rgba(99,102,241,0.10), rgba(99,102,241,0.04));
  border:1.5px solid rgba(99,102,241,0.25);
  color: #0b1220;
  font-weight:700;
  padding:14px 26px;
  font-size:1rem;
  border-radius: calc(var(--radius-base) + 2px);
  box-shadow: 0 8px 28px rgba(99,102,241,0.06);
}
.btn-secondary:hover{transform:translateY(-3px);box-shadow:0 18px 40px rgba(99,102,241,0.12)}

/* =========================
   LAYOUT / HEADER
   ========================= */
.app-header{
  padding:var(--spacing-lg) var(--spacing-xl);
  background:linear-gradient(180deg, rgba(255,255,255,0.5), rgba(255,255,255,0.3));
  border-bottom:1px solid var(--border-subtle);
  backdrop-filter:blur(10px);
  box-shadow:var(--shadow-soft);
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: var(--header-height);
  display: flex;
  align-items: center; /* vertical centering of header-content */
  z-index: 1100;
}
.header-content{
  max-width:1200px;
  margin:0 auto;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:var(--spacing-xl);
  width:100%;
  height:100%;
  box-sizing: border-box;
  padding-left: calc(var(--spacing-xl));
  padding-right: calc(var(--spacing-xl));
}
.logo{font-weight:700;font-size:var(--size-lg);padding:var(--spacing-sm) var(--spacing-md);border-radius:8px;background:linear-gradient(180deg,#fff,#fbfdff)}
.nav{display:flex;gap:var(--spacing-lg)}
.container{max-width:1200px;margin:0 auto;padding:0 var(--spacing-xl)}
main{min-height:calc(100vh - 200px);padding:var(--spacing-4xl) var(--spacing-xl)}

/* =========================
   GRID / CARDS (catalogue)
   ========================= */
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:var(--spacing-2xl)}
@media (max-width:900px){.grid{grid-template-columns:repeat(2,1fr);gap:var(--spacing-xl)}}
@media (max-width:600px){.grid{grid-template-columns:1fr;gap:var(--spacing-lg)}}

.card{
  position:relative;
  height:340px;
  border-radius:var(--radius-md);
  overflow:hidden;
  cursor:pointer;
  background:linear-gradient(135deg, rgba(255,255,255,0.62), rgba(250,250,252,0.62));
  border:1px solid var(--border-subtle);
  box-shadow:var(--shadow-soft);
  transform-style:preserve-3d;
  will-change:transform;
  transition:box-shadow var(--duration-slow) var(--easing-out);
}
.card:hover{box-shadow:var(--shadow-medium)}
.card:focus{outline:2px solid rgba(0,0,0,0.08);outline-offset:4px}

/* card image fallback */
.card-image{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;object-position:center;z-index:0;transform:translate3d(0,0,0) scale(1.12);transition:transform 180ms linear}

/* subtle overlay */
.card-overlay{position:absolute;inset:0;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.04));pointer-events:none;z-index:2}

/* card band (fallback style for simple cards) */
.card-band{
  position:absolute;
  left:12px;right:12px;bottom:12px;padding:12px 14px;border-radius:var(--radius-base);
  display:flex;align-items:center;justify-content:space-between;gap:var(--spacing-base);z-index:4;
  backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);
  background:var(--glass-band);border:1px solid var(--glass-band-border);
  transition:transform 180ms linear;
}

/* =========================
   HERO (serie) fixes
   ========================= */
.hero-serie{
  display:grid;
  grid-template-columns: minmax(280px, 1fr) minmax(360px, 1fr);
  gap: calc(var(--spacing-4xl) + 0.5rem);
  align-items:center;
  margin-bottom:var(--spacing-4xl);
  padding:calc(var(--spacing-3xl) + 0.5rem);
  border-radius:var(--radius-lg);
  background:linear-gradient(135deg,rgba(255,255,255,0.4),rgba(255,255,255,0.2));
  border:1px solid var(--border-subtle);
  box-shadow:var(--shadow-soft);
}
@media (max-width:1024px){ .hero-serie{ grid-template-columns:1fr; gap:var(--spacing-2xl); padding:var(--spacing-2xl) } }

/* hero image: stable (disable zoom) and maintain aspect ratio */
.hero-image{position:relative;overflow:hidden;border-radius:var(--radius-lg);aspect-ratio:16/9;box-shadow:0 24px 64px rgba(6,7,10,0.16)}
.hero-image img{width:100%;height:100%;object-fit:cover;object-position:center;display:block;transition:none;transform:none}

/* hero content: add breathing room from the image */
.hero-content{
  display:flex;
  flex-direction:column;
  gap:var(--spacing-2xl);
  padding-left: var(--spacing-lg);
}
.hero-meta{margin-bottom:var(--spacing-base)}
.hero-title{font-size:clamp(1.6rem,4vw,2.4rem);margin:0}
.hero-year{font-size:var(--size-lg);color:var(--text-muted);padding:var(--spacing-sm) var(--spacing-base);border-radius:8px}

/* hero actions and prominent favorites button */
.hero-actions{display:flex;gap:var(--spacing-lg);align-items:center}
.hero-actions form{margin:0}
.hero-actions .btn-secondary{
  background: linear-gradient(135deg, rgba(99,102,241,0.10), rgba(99,102,241,0.06));
  border:1.5px solid rgba(99,102,241,0.25);
  color: #0b1220;
  font-weight:700;
  padding:14px 26px;
  font-size:1rem;
}

/* =========================
   HERO NOTE
   ========================= */
.hero-note {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;                       /* espace entre icône et texte */
  padding: 6px 10px;                 /* pill padding */
  border-radius: 999px;              /* pill shape */
  font-size: var(--size-sm);         /* discret, lisible */
  font-weight: 600;
  color: var(--text-secondary);      /* texte doux */
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.62) 0%,
    rgba(250, 250, 252, 0.6) 100%
  );                                  /* verre mat, cohérent avec le thème */
  border: 1px solid rgba(0, 0, 0, 0.04);
  box-shadow: 0 6px 20px rgba(6, 7, 10, 0.04);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  line-height: 1;
  white-space: nowrap;
  transition: box-shadow var(--duration-fast) var(--easing-out),
              transform var(--duration-fast) var(--easing-out),
              background-color var(--duration-fast) var(--easing-out);
  will-change: transform, box-shadow;
}

/* petite icône étoile avant la note — couleur d'accent avec fallback */
.hero-note::before {
  content: '★';
  display: inline-block;
  font-size: 0.9em;
  color: var(--accent-primary, #6366f1);
  margin-left: -2px;  /* ajuste l'alignement visuel */
  text-shadow: 0 1px 0 rgba(255,255,255,0.6);
}

/* effet au hover: léger lift (pas de changement de couleur principal) */
.hero-note:hover,
.hero-note:focus {
  box-shadow: 0 14px 40px rgba(6, 7, 10, 0.08);
  transform: translateY(-2px);
  outline: none;
}

/* version "dégradée" si vous voulez une note sur fond sombre (hero avec overlay) */
.hero-note--on-dark {
  background: rgba(0, 0, 0, 0.32);
  border: 1px solid rgba(255, 255, 255, 0.06);
  color: rgba(255, 255, 255, 0.92);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
}
.hero-note--on-dark::before {
  color: #ffd166; /* or try var(--accent-primary) fallback */
  text-shadow: none;
}

/* Responsive: réduire padding / taille sur petits écrans */
@media (max-width: 600px) {
  .hero-note {
    padding: 5px 8px;
    font-size: var(--size-xs);
    gap: 0.35rem;
  }

  .hero-note::before {
    font-size: 0.95em;
  }
}

/* respects prefers-reduced-motion */
@media (prefers-reduced-motion: reduce) {
  .hero-note,
  .hero-note:hover,
  .hero-note:focus {
    transition: none;
    transform: none;
  }
}

/* =========================
   EPISODE grid & overlay slide-in (clean, no !important)
   ========================= */

/* episodes grid default */
.episodes-grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:var(--spacing-2xl) }

/* --- SERIES PAGE: force single-column listing for episodes ---
   Use a more specific selector so it overrides the generic grid-template
   without using !important. It targets episodes inside the series detail
   section (.episodes-section). If you add body[data-page="serie"] we also target that.
*/
.episodes-section .episodes-grid,
body[data-page="serie"] .episodes-grid {
  grid-template-columns: 1fr; /* single column */
  gap: var(--spacing-md);
}

/* base episode card */
.episode-card{
  position:relative;
  height:320px;
  border-radius:var(--radius-md);
  overflow:hidden;
  background:#f9fbfd;
  border:1px solid var(--border-subtle);
  box-shadow:var(--shadow-soft);
}

/* link fills the card */
.episode-card > .episode-link{
  display:block;
  position:relative;
  width:100%;
  height:100%;
  color:inherit;
  text-decoration:none;
}

/* image layer */
.episode-image-wrapper{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  overflow:hidden;
  z-index:1;
}
.episode-image{
  width:100%;
  height:100%;
  object-fit:cover;
  object-position:center;
  display:block;
  transform:none;
  transition:transform 180ms linear, filter 280ms var(--easing-out);
}

/* overlay band: absolute to the right and translated off-screen initially */
.episode-band{
  position:absolute;
  top:0;
  right:0;
  height:100%;
  width:40%;
  min-width:180px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  gap:var(--spacing-base);
  padding:20px;
  background: linear-gradient(90deg, rgba(0,0,0,0.45), rgba(255,255,255,0.02));
  color: #fff;
  transform: translateX(110%);
  transition: transform 320ms var(--easing-out), box-shadow 320ms var(--easing-out), opacity 220ms var(--easing-out);
  opacity:0;
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  border-left: 1px solid rgba(255,255,255,0.04);
  z-index:6;
  pointer-events:none;
}

/* reveal overlay on hover or keyboard focus within card/link */
.episode-card:hover .episode-band,
.episode-card:focus-within .episode-band,
.episode-card > .episode-link:hover .episode-band,
.episode-card > .episode-link:focus-within .episode-band{
  transform: translateX(0);
  opacity:1;
  pointer-events:auto;
  box-shadow:0 18px 40px rgba(0,0,0,0.18);
}

/* overlay internal styling */
.episode-band .episode-meta{
  color:#fff;
  display:flex;
  flex-direction:column;
  gap:6px;
  align-items:flex-start;
  min-width:0;
}
.episode-band .episode-title{color:#fff;font-weight:700;margin:0}
.pisode-band .episode-subtitle{color:rgba(255,255,255,0.9);margin:0}

/* button in overlay */
.episode-band .btn-small{
  align-self:center;
  min-width:110px;
  padding:10px 16px;
  border-radius:10px;
  background: linear-gradient(135deg, rgba(99,102,241,0.12), rgba(139,92,246,0.06));
  border: 1px solid rgba(255,255,255,0.14);
  color:#fff;
  font-weight:700;
  transition:transform 180ms var(--easing-out), box-shadow 180ms var(--easing-out);
}
.episode-band .btn-small:hover,
.episode-band .btn-small:focus{
  transform: scale(1.06);
  box-shadow:0 12px 32px rgba(0,0,0,0.28);
}

/* darken underlying image when overlay visible for contrast */
.episode-card:hover .episode-image,
.episode-card:focus-within .episode-image{
  filter: brightness(0.66) saturate(0.95);
}

/* Accessible fallback for touch (no hover) */
@media (hover: none) {
  .episode-card:hover .episode-band { transform: translateX(110%); opacity:0; pointer-events:none; }
  .episode-card:focus-within .episode-band { transform: translateX(0); opacity:1; pointer-events:auto; }
}

/* mobile: slide overlay from bottom */
@media (max-width:900px){
  .episode-card{ height:300px }
  .episode-band{
    width:100%;
    height:auto;
    bottom:0;
    top:auto;
    left:0;
    transform: translateY(110%);
    transition: transform 300ms var(--easing-out), opacity 220ms var(--easing-out);
  }
  .episode-card:hover .episode-band,
  .episode-card:focus-within .episode-band{
    transform: translateY(0);
    opacity:1;
  }
  .episode-band .btn-small{ align-self:flex-end }
  .hero-serie{ grid-template-columns:1fr; gap:var(--spacing-2xl); padding:var(--spacing-2xl) }
  .hero-content{ padding-left:0 }
}

/* small polish: focus & accessibility */
.episode-card:focus-within,
.episode-card:focus{ outline:2px solid rgba(99,102,241,0.08); outline-offset:2px }

/* make sure only specific children are positioned relative (do not set episode-band relative) */
.episode-card .episode-image,
.episode-card .episode-image-wrapper,
.episode-card .episode-link{
  position: relative;
  z-index:1;
}


/* =========================
   EPISODE page: video
   ========================= */

/* Header */
.episode-header {
  max-width: 980px;
  margin: 0 auto var(--spacing-lg);
  padding: 0 var(--spacing-lg);
}

#episode-title {
  font-size: clamp(1.6rem, 4vw, 2.25rem);
  margin: 0 0 6px 0;
  line-height: 1.05;
}

.episode-meta {
  color: var(--text-muted);
  margin: 0;
  font-size: var(--size-sm);
}

/* Player: centered, responsive, nice border-radius and shadow
   --- FIXES ---
   - reserve visual space before the video metadata loads by using aspect-ratio
     and a sensible min-height. This prevents the "applatir" effect.
*/
.episode-player {
  width: 100%;
  max-width: 980px;
  margin: 0 auto var(--spacing-2xl);
  padding: 0 var(--spacing-lg);
  box-sizing: border-box;
  display: block;
}

/* The actual <video> element */
.player {
  display: block;
  width: 100%;
  /* Reserve 16:9 space before load to avoid collapsed/flattened player */
  aspect-ratio: 16 / 9;
  min-height: 240px; /* fallback for browsers not supporting aspect-ratio */
  height: auto;
  border-radius: calc(var(--radius-md) + 2px);
  background: #000;
  box-shadow: 0 20px 60px rgba(6,7,10,0.12);
  overflow: hidden;
  outline: none;
  object-fit: cover; /* keep poster/video cover behavior */
}

/* ensure the poster image covers the box consistently */
.player::cue { /* noop placeholder for caption styling if needed */ }

/* Video focus for keyboard users */
.player:focus {
  box-shadow: 0 24px 72px rgba(6,7,10,0.18);
  outline: 3px solid rgba(99,102,241,0.12);
  outline-offset: 6px;
}

/* =========================
   EPISODE NOTE (center the form)
   - Use flex on the container and constrain the inner form width so the form
     appears centered and not full-bleed on wide screens.
   ========================= */
.episode-note {
  max-width: 100%;
  margin: 0 auto var(--spacing-4xl);
  padding: var(--spacing-lg);
  box-sizing: border-box;

  /* Center the form content horizontally */
  display: flex;
  justify-content: center;
  align-items: flex-start;
}

/* Constrain the form width so it looks like a centred card */
.episode-note .note-form {
  width: 100%;
  max-width: 680px; /* chosen so it looks balanced with the player */
  display: grid;
  gap: var(--spacing-md);
  background: linear-gradient(180deg, rgba(255,255,255,0.36), rgba(255,255,255,0.18));
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-base);
  padding: var(--spacing-lg);
  box-shadow: var(--shadow-soft);
}

/* Form rows */
.form-row label {
  display: block;
  margin-bottom: 6px;
  font-size: var(--size-sm);
  color: var(--text-secondary);
}

.form-row input[type="text"],
.form-row input[type="number"],
.form-row textarea {
  width: 100%;
  padding: 12px 14px;
  border-radius: var(--radius-base);
  border: 1px solid var(--border-subtle);
  background: rgba(255,255,255,0.6);
  color: var(--text);
  font-size: var(--size-base);
  transition: box-shadow var(--duration-fast), border-color var(--duration-fast);
}

/* Larger textarea if used */
.form-row textarea {
  min-height: 100px;
  resize: vertical;
}

/* Focus */
.form-row input:focus,
.form-row textarea:focus {
  box-shadow: 0 8px 24px rgba(0,0,0,0.06);
  border-color: rgba(99,102,241,0.14);
  outline: none;
}

/* Form actions: align submit to the right on wide screens */
.form-actions {
  display: flex;
  justify-content: flex-end;
  gap: var(--spacing-base);
  width: 100%;
}

/* Make primary button slightly larger here */
.form-actions .btn-primary {
  padding: 10px 20px;
  font-size: var(--size-base);
}

/* Inline help / error */
.form-error {
  color: #b00020;
  font-size: var(--size-sm);
  margin-top: 6px;
  display: none;
}
.form-error.is-visible { display: block; }

/* Responsive tweaks */
@media (max-width: 900px) {
  .player { border-radius: calc(var(--radius-md)); }
  .episode-player { padding: 0 var(--spacing-md); }
  .episode-note { padding: var(--spacing-md); }
  .episode-note .note-form { padding: var(--spacing-md); }
  .form-actions { justify-content: stretch; }
  .form-actions .btn-primary { width: 100%; }
}

/* Mobile smaller spacing */
@media (max-width: 600px) {
  body { padding: 20px; } /* reduces the global padding on small screens */
  .episode-header { margin-bottom:var(--spacing-md); padding: 0 var(--spacing-md); }
  .episode-player { margin-bottom: var(--spacing-lg); }
  .episode-note { padding: 0 var(--spacing-md); margin-bottom: var(--spacing-3xl); }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .player,
  .form-row input,
  .form-row textarea,
  .form-actions .btn-primary {
    transition: none !important;
  }
}


/* =========================
   AUTH (login / register) harmonisation
   ========================= */
.auth-page{display:flex;align-items:center;justify-content:center;padding:var(--spacing-4xl) var(--spacing-xl);min-height:calc(100vh - 220px);box-sizing:border-box}

.auth-container{
  width:100%;
  max-width:480px;
  border-radius:var(--radius-lg);
  padding:var(--spacing-3xl);
  background:linear-gradient(180deg,rgba(255,255,255,0.42),rgba(255,255,255,0.22));
  border:1px solid var(--border-subtle);
  box-shadow:var(--shadow-soft);
  backdrop-filter:blur(12px);
  -webkit-backdrop-filter:blur(12px);
}

/* neutralize inner card visuals while preserving semantics */
.auth-card{
  background: transparent;
  border: none;
  box-shadow: none;
  padding: 0;
  margin: 0;
  width:100%;
  border-radius:var(--radius-lg);
}

/* auth form layout */
.auth-header{text-align:center;margin-bottom:var(--spacing-2xl)}
.auth-header h1{margin:0 0 var(--spacing-base) 0;font-size:var(--size-2xl);font-weight:600;color:var(--text)}
.auth-sub{color:var(--text-muted);font-size:var(--size-sm);margin:0}
.auth-form{display:grid;gap:var(--spacing-md);margin-top:var(--spacing-lg)}
.auth-form label{font-size:var(--size-sm);color:var(--text-secondary);display:block;margin-bottom:6px}
.auth-form input[type="email"],.auth-form input[type="password"],.auth-form input[type="text"]{width:100%;padding:12px 14px;border-radius:var(--radius-base);border:1px solid var(--border-subtle);background:rgba(255,255,255,0.6);font-size:var(--size-base);color:var(--text)}
.auth-form input:focus{box-shadow:0 6px 20px rgba(0,0,0,0.06);border-color:rgba(0,0,0,0.08)}
.input-with-toggle{position:relative;display:flex;align-items:center}
.input-with-toggle .toggle-pw{position:absolute;right:8px;top:50%;transform:translateY(-50%);background:transparent;border:none;color:var(--text-secondary);padding:6px;cursor:pointer;font-size:var(--size-sm)}
.auth-actions{display:flex;gap:var(--spacing-base);margin-top:var(--spacing-base);justify-content:space-between;align-items:center}
.link-muted{color:var(--text-secondary);font-size:var(--size-sm);text-decoration:underline;background:transparent;border:none;padding:0;cursor:pointer}
.form-error.is-visible{display:block}
.form-error{display:none;color:#b00020;font-size:var(--size-sm);margin-top:6px}

/* =========================
   RESPONSIVE TWEAKS
   ========================= */
@media (max-width:900px){
  .header-content{flex-direction:column;align-items:flex-start;gap:var(--spacing-base)}
  .nav{gap:var(--spacing-base)}
  main{padding:var(--spacing-2xl) var(--spacing-lg)}
}
@media (max-width:600px){
  .app-header{padding:var(--spacing-md) var(--spacing-lg)}
  .logo{font-size:var(--size-sm)}
  main{padding:var(--spacing-xl) var(--spacing-md)}
}

/* reduced motion override */
@media (prefers-reduced-motion:reduce){
  *{transition:none!important;animation:none!important}
}

/* responsive: when header grows (wrap) update tokens for small screens */
@media (max-width: 900px) {
  :root { --header-height: var(--header-compact-height); }
  body { padding-top: calc(var(--header-height) + var(--spacing-sm)); }
  .header-content { flex-direction: column; align-items: flex-start; gap: var(--spacing-base); padding-top: 8px; padding-bottom: 8px; }
}

/* =======================================================
   Inlined notification styles (from notification.css)
   - appended so only a single CSS file is required.
   ======================================================= */

/* Notification / toast styles
   Matches JS behavior where the toast element has id="notificationToast"
   and closeToast() applies 'slide-out-right' animation inline.
   This file also supports server-rendered .toast classes for compatibility.
*/

:root{
  --nv-toast-bg: rgba(255,255,255,0.98);
  --nv-toast-border: rgba(0,0,0,0.04);
  --nv-toast-shadow: 0 10px 30px rgba(6,7,10,0.12);
  --nv-toast-radius: 12px;
  --nv-toast-gap: 12px;
  --nv-toast-z: 2200;
  --nv-easing: cubic-bezier(0.2, 0, 0, 1);
}

/* Container (used by client-side stacker; server-rendered single toasts are positioned directly) */
.nv-notification-container {
  position: fixed;
  right: 18px;
  bottom: 18px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  z-index: var(--nv-toast-z);
  pointer-events: none;
}

/* Base toast (applies to #notificationToast and .toast for compatibility) */
#notificationToast,
.toast,
.nv-toast {
  pointer-events: auto;
  position: fixed; /* server-rendered single toasts sit fixed on screen */
  right: 18px;
  bottom: 18px;
  display: flex;
  align-items: center;
  gap: var(--nv-toast-gap);
  min-width: 260px;
  max-width: 420px;
  padding: 12px 14px;
  border-radius: var(--nv-toast-radius);
  background: linear-gradient(180deg, var(--nv-toast-bg), rgba(250,250,252,0.97));
  box-shadow: var(--nv-toast-shadow);
  border: 1px solid var(--nv-toast-border);
  color: #0b1220;
  z-index: var(--nv-toast-z);
  transform-origin: right bottom;
  opacity: 1;
  /* entry animation: slide in from the right slightly */
  animation: slide-in-right 360ms var(--nv-easing) both;
}

/* Hide state class (in case code uses it) */
.nv-toast-hide,
.toast-hide {
  opacity: 0;
  transform: translateY(8px) scale(.995);
  transition: transform 220ms var(--nv-easing), opacity 180ms var(--nv-easing);
}

/* Slide-out animation (JS will set inline: 'slide-out-right 0.3s ease forwards') */
@keyframes slide-out-right {
  from { opacity: 1; transform: translateX(0) scale(1); }
  to   { opacity: 0; transform: translateX(20px) scale(.99); }
}

/* Slide-in animation */
@keyframes slide-in-right {
  from { opacity: 0; transform: translateX(12px) scale(.995); }
  to   { opacity: 1; transform: translateX(0) scale(1); }
}

/* Icon / content / close button */
.toast-icon,
.nv-toast-icon {
  font-size: 1.05rem;
  width: 28px;
  text-align: center;
  line-height: 1;
}

.toast-content,
.nv-toast-content {
  flex: 1 1 auto;
  min-width: 0;
}

.toast-title,
.nv-toast-title {
  margin: 0 0 3px 0;
  font-size: 0.95rem;
  font-weight: 700;
  color: inherit;
}

.toast-message,
.nv-toast-message {
  margin: 0;
  font-size: 0.9rem;
  color: rgba(11,18,32,0.85);
}

/* Close button - visible and keyboard accessible */
.toast-close,
.nv-toast-close {
  background: transparent;
  border: none;
  color: rgba(11,18,32,0.65);
  font-size: 1rem;
  cursor: pointer;
  padding: 6px;
  border-radius: 6px;
}
.toast-close:focus,
.nv-toast-close:focus {
  outline: 2px solid rgba(99,102,241,0.12);
  outline-offset: 3px;
}

/* Variants (left accent) */
.toast-success, .nv-toast-success { border-left: 4px solid #16a34a; }
.toast-error,   .nv-toast-error   { border-left: 4px solid #dc2626; }
.toast-warning, .nv-toast-warning { border-left: 4px solid #f59e0b; }
.toast-info,    .nv-toast-info    { border-left: 4px solid var(--accent-primary, #6366f1); }

/* Responsive: full-width-ish on small screens */
@media (max-width: 600px) {
  #notificationToast,
  .toast,
  .nv-toast {
    left: 12px;
    right: 12px;
    bottom: 12px;
    width: auto;
    max-width: none;
    min-width: 0;
  }
  .nv-notification-container {
    left: 12px;
    right: 12px;
    bottom: 12px;
    align-items: center;
  }
}

/* Respect reduced-motion preference: disable animations */
@media (prefers-reduced-motion: reduce) {
  #notificationToast,
  .toast,
  .nv-toast,
  .nv-toast-hide,
  .toast-hide {
    animation: none !important;
    transition: none !important;
  }
  @keyframes slide-out-right { from { } to { } } /* noop */
  @keyframes slide-in-right { from { } to { } } /* noop */
}



/* 3) S'assurer que le wrapper n'a pas de fond blanc et couvre tout le document */
.app-wrapper {
  background: transparent !important;
  min-height: 100vh;
}
